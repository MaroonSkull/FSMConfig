# ADR-001: Separation of Permanent and Temporary Documentation

## Status
Accepted

## Context
The project had a problem mixing two types of documentation in the `docs/` directory:
1. **Permanent documentation** — API reference, architecture, guides that should be in git
2. **Temporary files** — draft ADRs, design documents generated by AI agents in architect mode

This led to:
- Cluttered git history with draft files
- Difficulty determining which files to commit
- Risk of accidentally committing incomplete documentation

## Decision
Introduce separation of documentation into two types:

### Permanent Documentation (Versioned)
Location: `docs/` (except `docs/.wip/`)
- Versioned in git
- Final ADRs in `docs/architecture/decisions/`
- API documentation, architecture, examples
- Development guides

### Temporary Documentation (Work In Progress)
Location: `docs/.wip/<branch-name>/`
- Ignored by git (added to `.gitignore`)
- Created for each task in a subdirectory matching the branch name
- After task completion, either:
  - Delete the directory if files are no longer needed
  - Move important files to permanent documentation locations

### Workflow
1. When creating a task branch, AI creates subdirectory `docs/.wip/<branch-name>/`
2. All temporary .md files are created only in this subdirectory
3. After task completion:
   - Important ADRs moved to `docs/architecture/decisions/`
   - Entire `docs/.wip/<branch-name>/` directory deleted
   - Only permanent documentation committed

## Consequences

### Positive
- ✅ Clean git tree without temporary drafts
- ✅ Clear separation between draft and final documentation
- ✅ Standardized workflow for all AI agents
- ✅ Automatic cleanup of temporary files
- ✅ Connection between git branches and temporary files

### Negative
- ⚠️ Requires discipline when creating .md files
- ⚠️ Must remember to delete temporary folders
- ⚠️ Additional step when moving important ADRs

### Risks
- Risk of forgetting to delete temporary folder (minimal, since it's in .gitignore)
- Risk of creating file in wrong location (mitigated by updated rules in AGENTS.md)

## Alternatives
1. **Use separate directory outside docs/** (e.g., `.ai-workspace/`)
   - Rejected: violates principle of centralized documentation in `docs/`
   
2. **Use git-branches for documentation**
   - Rejected: overkill for temporary drafts
   
3. **Don't separate documentation**
   - Rejected: doesn't solve the original problem

## Implementation
- [x] Created `docs/.wip/` directory
- [x] Added to `.gitignore`
- [x] Updated [`AGENTS.md`](../../AGENTS.md) with new rules
- [x] Created this ADR

## References
- [AGENTS.md - Rules for Creating .md Files](../../AGENTS.md#rules-for-creating-md-files)
